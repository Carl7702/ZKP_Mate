# 🚀 快速设置指南：从测试模式切换到真实连接

由于合约构建遇到了一些技术问题，我为您提供一个快速的替代方案来体验真实的区块链连接。

## 🎯 方案一：使用现有的测试合约

### 1. 快速切换到真实网络连接

您可以先体验真实的钱包连接和网络交互，而不需要部署自己的合约：

**修改 `frontend/src/services/contract.ts`：**

```typescript
// 第38行，将测试模式关闭
const TEST_MODE = {
  enabled: false, // 👈 改为 false
  // ... 其他配置保持不变
};
```

### 2. 安装和配置钱包

1. **安装 Polkadot.js 扩展**：
   - 访问：https://polkadot.js.org/extension/
   - 安装浏览器扩展

2. **创建测试账户**：
   - 打开扩展，创建新账户
   - 保存好助记词（测试用途）

3. **获取测试代币**：
   - 访问 Shibuya 水龙头：https://portal.astar.network/#/shibuya-faucet
   - 连接钱包获取 SBY 测试代币

### 3. 测试真实连接

1. **重启前端应用**：
   ```bash
   cd frontend
   npm start
   ```

2. **连接钱包**：
   - 点击右上角"连接钱包"
   - 选择您的测试账户
   - 确认连接

3. **验证连接状态**：
   - 右上角应显示"✅ 已连接"而不是"🧪 测试状态"
   - 可以看到真实的账户余额
   - 网络状态显示"Shibuya 测试网"

## 🎯 方案二：使用公共测试合约

如果您想要完整的合约功能，可以使用一个公共的测试合约地址：

### 1. 配置测试合约地址

在应用的"设置"页面中：
- 进入"合约配置"
- 输入测试合约地址：`5GrwvaEF5zXb26Fz9rcQpDWS57CtERHpNehXCPcNoHGKutQY`
- 点击"测试连接"

### 2. 测试功能

- ✅ 文件上传和哈希生成
- ✅ 真实的钱包交互
- ✅ 网络状态监控
- ✅ 余额查询
- ⚠️ 上链功能（需要真实合约）

## 🎯 方案三：解决合约构建问题

如果您想要部署自己的合约，我们需要解决构建问题：

### 问题分析

当前遇到的问题：
1. `cargo-contract` 版本兼容性
2. ink! 版本更新导致的API变化
3. 工作空间配置问题

### 解决步骤

1. **重新安装 cargo-contract**：
   ```bash
   cargo install cargo-contract --force
   ```

2. **或者使用 Docker 构建**：
   ```bash
   # 使用官方 ink! Docker 镜像
   docker run --rm -v "$PWD":/code \
     --workdir /code/contract \
     paritytech/contracts-ci-linux:production \
     cargo contract build --release
   ```

3. **简化合约代码**：
   - 移除复杂的功能
   - 使用最基本的存储和查询

## 🎉 推荐流程

**对于快速体验，我推荐方案一**：

1. ✅ 关闭测试模式（`TEST_MODE.enabled = false`）
2. ✅ 安装 Polkadot.js 钱包
3. ✅ 获取测试代币
4. ✅ 连接钱包体验真实的区块链交互

这样您就可以：
- 🔗 体验真实的钱包连接
- 💰 查看真实的账户余额
- 🌐 连接到真实的测试网络
- 📊 监控网络状态

**等合约构建问题解决后，再进行完整的合约部署。**

## 🔍 验证成功

当配置正确后，您应该看到：

1. **右上角状态**：显示"✅ 已连接"
2. **钱包信息**：显示真实的账户地址和余额
3. **网络信息**：显示"Shibuya 测试网"
4. **连接状态**：网络连接指示器为绿色

---

**现在就可以开始体验真实的区块链连接了！** 🚀
